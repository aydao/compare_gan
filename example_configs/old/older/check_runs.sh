ls -1r logs*.txt | grep 'logs[0-9][0-9].txt' | xargs -n 1 -I {} sh -c 'tpu=$(rg "tpu-[a-z0-9\-]+-[0-9]+" {} -o | last); outfeed=$(rg -i " Outfeed finished" {} | last); ckpt=$(rg -i -o "gs://.*?ckpt" {} | last); final=$(echo $outfeed | rg " [0-9][0-9]:[0-9][0-9]:[0-9][0-9]" -o); echo $final - $(date -d @`utcnow` | rg -o "([0-9]{2}:)+[0-9]{2}") $(basename $(dirname $ckpt)) $tpu $(echo $outfeed | rg "iteration.*" -o)'
